<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 NOTAMS: Splitting and parsing strings | Analysing Flights with R - UNDER CONSTRUCTION</title>
  <meta name="description" content="This is a training and reference manual for Eurocontrol staff, on how to use RStudio to analyse our traffic data. - UNDER CONSTRUCTION -" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 NOTAMS: Splitting and parsing strings | Analysing Flights with R - UNDER CONSTRUCTION" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a training and reference manual for Eurocontrol staff, on how to use RStudio to analyse our traffic data. - UNDER CONSTRUCTION -" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 NOTAMS: Splitting and parsing strings | Analysing Flights with R - UNDER CONSTRUCTION" />
  
  <meta name="twitter:description" content="This is a training and reference manual for Eurocontrol staff, on how to use RStudio to analyse our traffic data. - UNDER CONSTRUCTION -" />
  

<meta name="author" content="David Marsh" />


<meta name="date" content="2021-03-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vectors-and-grouping-loops-of-a-sort.html"/>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysing Flights in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> How to use this book</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#before-you-start"><i class="fa fa-check"></i><b>1.1</b> Before you start</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ways-to-use-the-material"><i class="fa fa-check"></i><b>1.2</b> Ways to Use the Material</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.3</b> Structure of the book</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#whats-gone-wrong"><i class="fa fa-check"></i><b>1.4</b> What’s gone wrong?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="start.html"><a href="start.html"><i class="fa fa-check"></i><b>2</b> Getting started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="start.html"><a href="start.html#rstudio"><i class="fa fa-check"></i><b>2.1</b> Orientation in RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="start.html"><a href="start.html#first-project"><i class="fa fa-check"></i><b>2.2</b> First project</a></li>
<li class="chapter" data-level="2.3" data-path="start.html"><a href="start.html#first-code"><i class="fa fa-check"></i><b>2.3</b> First code</a></li>
<li class="chapter" data-level="2.4" data-path="start.html"><a href="start.html#packages"><i class="fa fa-check"></i><b>2.4</b> First packages</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="start.html"><a href="start.html#package-basics"><i class="fa fa-check"></i><b>2.4.1</b> Package basics</a></li>
<li class="chapter" data-level="2.4.2" data-path="start.html"><a href="start.html#tidyverse"><i class="fa fa-check"></i><b>2.4.2</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="start.html"><a href="start.html#filetypes"><i class="fa fa-check"></i><b>2.5</b> File types</a></li>
<li class="chapter" data-level="2.6" data-path="start.html"><a href="start.html#whats-gone-wrong-1"><i class="fa fa-check"></i><b>2.6</b> What’s gone wrong?</a></li>
<li class="chapter" data-level="2.7" data-path="start.html"><a href="start.html#test-yourself"><i class="fa fa-check"></i><b>2.7</b> Test yourself</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="start.html"><a href="start.html#questions"><i class="fa fa-check"></i><b>2.7.1</b> Questions</a></li>
<li class="chapter" data-level="2.7.2" data-path="start.html"><a href="start.html#answers"><i class="fa fa-check"></i><b>2.7.2</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="firstLook.html"><a href="firstLook.html"><i class="fa fa-check"></i><b>3</b> First look at data and CO<sub>2</sub> emissions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="firstLook.html"><a href="firstLook.html#loadco2"><i class="fa fa-check"></i><b>3.1</b> Looking at data: CO<sub>2</sub> Data</a></li>
<li class="chapter" data-level="3.2" data-path="firstLook.html"><a href="firstLook.html#extracting-variables"><i class="fa fa-check"></i><b>3.2</b> Extracting variables</a></li>
<li class="chapter" data-level="3.3" data-path="firstLook.html"><a href="firstLook.html#someValues"><i class="fa fa-check"></i><b>3.3</b> Extracting a few values</a></li>
<li class="chapter" data-level="3.4" data-path="firstLook.html"><a href="firstLook.html#co2-scatter-plot"><i class="fa fa-check"></i><b>3.4</b> CO<sub>2</sub> Scatter plot</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="firstLook.html"><a href="firstLook.html#first-draft"><i class="fa fa-check"></i><b>3.4.1</b> First draft</a></li>
<li class="chapter" data-level="3.4.2" data-path="firstLook.html"><a href="firstLook.html#improve-the-titles"><i class="fa fa-check"></i><b>3.4.2</b> Improve the titles</a></li>
<li class="chapter" data-level="3.4.3" data-path="firstLook.html"><a href="firstLook.html#statecluster"><i class="fa fa-check"></i><b>3.4.3</b> and with clustering by state</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="firstLook.html"><a href="firstLook.html#whats-gone-wrong-2"><i class="fa fa-check"></i><b>3.5</b> What’s gone wrong?</a></li>
<li class="chapter" data-level="3.6" data-path="firstLook.html"><a href="firstLook.html#test-yourself-1"><i class="fa fa-check"></i><b>3.6</b> Test yourself</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="firstLook.html"><a href="firstLook.html#questions-1"><i class="fa fa-check"></i><b>3.6.1</b> Questions</a></li>
<li class="chapter" data-level="3.6.2" data-path="firstLook.html"><a href="firstLook.html#answers-1"><i class="fa fa-check"></i><b>3.6.2</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>4</b> Filtering a dataset and refining the CO<sub>2</sub> graph</a>
<ul>
<li class="chapter" data-level="4.1" data-path="filter.html"><a href="filter.html#sequences-of-functions"><i class="fa fa-check"></i><b>4.1</b> Sequences of functions</a></li>
<li class="chapter" data-level="4.2" data-path="filter.html"><a href="filter.html#filtering-datasets-and-logical-tests"><i class="fa fa-check"></i><b>4.2</b> Filtering datasets and logical tests</a></li>
<li class="chapter" data-level="4.3" data-path="filter.html"><a href="filter.html#topStates"><i class="fa fa-check"></i><b>4.3</b> Selecting the busiest states</a></li>
<li class="chapter" data-level="4.4" data-path="filter.html"><a href="filter.html#co2-graph-for-the-top-states"><i class="fa fa-check"></i><b>4.4</b> CO<sub>2</sub> graph for the top states</a></li>
<li class="chapter" data-level="4.5" data-path="filter.html"><a href="filter.html#labelco2"><i class="fa fa-check"></i><b>4.5</b> Labelling the CO<sub>2</sub> graph</a></li>
<li class="chapter" data-level="4.6" data-path="filter.html"><a href="filter.html#what-does-the-graph-say-about-co2"><i class="fa fa-check"></i><b>4.6</b> What does the graph say about CO<sub>2</sub>?</a></li>
<li class="chapter" data-level="4.7" data-path="filter.html"><a href="filter.html#whats-gone-wrong-3"><i class="fa fa-check"></i><b>4.7</b> What’s gone wrong?</a></li>
<li class="chapter" data-level="4.8" data-path="filter.html"><a href="filter.html#exercises"><i class="fa fa-check"></i><b>4.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="filter.html"><a href="filter.html#questions-2"><i class="fa fa-check"></i><b>4.8.1</b> Questions</a></li>
<li class="chapter" data-level="4.8.2" data-path="filter.html"><a href="filter.html#answers-2"><i class="fa fa-check"></i><b>4.8.2</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sortbars.html"><a href="sortbars.html"><i class="fa fa-check"></i><b>5</b> Sorting Bars, Saving Graphs, Facets</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sortbars.html"><a href="sortbars.html#firstsortedbar"><i class="fa fa-check"></i><b>5.1</b> The simple sorted bar chart - more on CO<sub>2</sub></a></li>
<li class="chapter" data-level="5.2" data-path="sortbars.html"><a href="sortbars.html#saving-a-plot"><i class="fa fa-check"></i><b>5.2</b> Saving a plot</a></li>
<li class="chapter" data-level="5.3" data-path="sortbars.html"><a href="sortbars.html#plotting-more-than-one-year"><i class="fa fa-check"></i><b>5.3</b> Plotting more than one year</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="sortbars.html"><a href="sortbars.html#factors"><i class="fa fa-check"></i><b>5.3.1</b> Staggered bars, and factors</a></li>
<li class="chapter" data-level="5.3.2" data-path="sortbars.html"><a href="sortbars.html#chart-facets-more-years-in-the-bar-chart"><i class="fa fa-check"></i><b>5.3.2</b> Chart facets, more years in the bar chart</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="sortbars.html"><a href="sortbars.html#whats-gone-wrong-4"><i class="fa fa-check"></i><b>5.4</b> What’s gone wrong?</a></li>
<li class="chapter" data-level="5.5" data-path="sortbars.html"><a href="sortbars.html#exercises-1"><i class="fa fa-check"></i><b>5.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="sortbars.html"><a href="sortbars.html#questions-3"><i class="fa fa-check"></i><b>5.5.1</b> Questions</a></li>
<li class="chapter" data-level="5.5.2" data-path="sortbars.html"><a href="sortbars.html#answers-3"><i class="fa fa-check"></i><b>5.5.2</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extended-exercises-emissions-graphs.html"><a href="extended-exercises-emissions-graphs.html"><i class="fa fa-check"></i><b>6</b> Extended Exercises - Emissions Graphs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="extended-exercises-emissions-graphs.html"><a href="extended-exercises-emissions-graphs.html#questions-4"><i class="fa fa-check"></i><b>6.1</b> Questions</a></li>
<li class="chapter" data-level="6.2" data-path="extended-exercises-emissions-graphs.html"><a href="extended-exercises-emissions-graphs.html#co2hints"><i class="fa fa-check"></i><b>6.2</b> Hints</a></li>
<li class="chapter" data-level="6.3" data-path="extended-exercises-emissions-graphs.html"><a href="extended-exercises-emissions-graphs.html#answers-4"><i class="fa fa-check"></i><b>6.3</b> Answers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="vectors-and-grouping-loops-of-a-sort.html"><a href="vectors-and-grouping-loops-of-a-sort.html"><i class="fa fa-check"></i><b>7</b> Vectors and grouping - Loops of a sort</a>
<ul>
<li class="chapter" data-level="7.1" data-path="vectors-and-grouping-loops-of-a-sort.html"><a href="vectors-and-grouping-loops-of-a-sort.html#vectors"><i class="fa fa-check"></i><b>7.1</b> Vectors</a></li>
<li class="chapter" data-level="7.2" data-path="vectors-and-grouping-loops-of-a-sort.html"><a href="vectors-and-grouping-loops-of-a-sort.html#exercises-2"><i class="fa fa-check"></i><b>7.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="vectors-and-grouping-loops-of-a-sort.html"><a href="vectors-and-grouping-loops-of-a-sort.html#questions-5"><i class="fa fa-check"></i><b>7.2.1</b> Questions</a></li>
<li class="chapter" data-level="7.2.2" data-path="vectors-and-grouping-loops-of-a-sort.html"><a href="vectors-and-grouping-loops-of-a-sort.html#answers-5"><i class="fa fa-check"></i><b>7.2.2</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="splitparse.html"><a href="splitparse.html"><i class="fa fa-check"></i><b>8</b> NOTAMS: Splitting and parsing strings</a>
<ul>
<li class="chapter" data-level="8.1" data-path="splitparse.html"><a href="splitparse.html#splitting-a-column-into-many"><i class="fa fa-check"></i><b>8.1</b> Splitting a column into many</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="splitparse.html"><a href="splitparse.html#splitting-a-column-at-a-character"><i class="fa fa-check"></i><b>8.1.1</b> Splitting a column at a character</a></li>
<li class="chapter" data-level="8.1.2" data-path="splitparse.html"><a href="splitparse.html#splitting-a-column-at-a-regular-expression"><i class="fa fa-check"></i><b>8.1.2</b> Splitting a column at a regular expression</a></li>
<li class="chapter" data-level="8.1.3" data-path="splitparse.html"><a href="splitparse.html#splitting-a-column-at-an-either-or"><i class="fa fa-check"></i><b>8.1.3</b> Splitting a column at an either-or</a></li>
<li class="chapter" data-level="8.1.4" data-path="splitparse.html"><a href="splitparse.html#exercises-3"><i class="fa fa-check"></i><b>8.1.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="splitparse.html"><a href="splitparse.html#list-columns-listcolumns"><i class="fa fa-check"></i><b>8.2</b> List columns {listcolumns}</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysing Flights with R - UNDER CONSTRUCTION</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="splitparse" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> NOTAMS: Splitting and parsing strings</h1>
<p>NOTE: This chapter has been written out of sequence, so jumps some steps and may feel a bit of a jump from the (current) previous chapter. Need to add in between chapters on: dates, mutate-across TBD.</p>
<p>This chapter uses the example of NOTAMs (notices to airmen) to explore R functions for turning text into more useable data, by splitting and parsing.</p>
<p>The parsing of NOTAMs here is <em>NOT</em> for operational use. It’s for statistical analysis, post operations. NOTAMs are very varied, and we will not handle all the possible ways in which the parsing might fail. We assume that failures can be picked up in later statistical analysis, or will just be outliers that can be ignored as 1 in millions of cases. This code is NOT A SUBSTITUTE FOR READING THE NOTAM BEFORE THE FLIGHT.</p>
<table>
<thead>
<tr class="header">
<th align="left">In this chapter, you’ll be introduced to:</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>split()</code>, `</td>
</tr>
</tbody>
</table>
<p>The sections are ordered <em>not</em> in the order you’d have to work, starting with a full NOTAM text, but in a rough order of simple to more complex. The final section puts it all together.</p>
<p>We assume throughout that you have not just a single string, but a dataframe of strings for processing. This is because we want to illustrate this way of working: vectorised in the R jargon.</p>
<p>You could write a function that takes a single string and parses it. Then call it many times and stack the results together with <code>rbind</code> or <code>bind_rows</code>. But we’re planning to run this millions of times, so that’s millions of function calls. So instead we write in a way that works on the whole dataset at once, and leaves the tidyverse to do that in the most efficient way.</p>
<div id="splitting-a-column-into-many" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Splitting a column into many</h2>
<p>Within the tidyverse <code>tidyr</code> provides some useful tools for parsing text. In this chapter we see a simpler and a more complex use of <code>tidyr::separate</code>.</p>
<div id="splitting-a-column-at-a-character" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Splitting a column at a character</h3>
<p>In the simplest case, a string is to be separated at a single separator character. In field Q of the NOTAM this is “/.” We just need to tell <code>separate</code> what the new columns are called, as in the following code.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="splitparse.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb75-2"><a href="splitparse.html#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># a couple of examples, in a dataframe</span></span>
<span id="cb75-3"><a href="splitparse.html#cb75-3" aria-hidden="true" tabindex="-1"></a>q_fields <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">q =</span> <span class="fu">c</span>(<span class="st">&quot;GLRB/QPLXX/IV/NBO/E /000/999/0620N01206W483&quot;</span>, <span class="st">&quot;LYBA/QKKKK/K /K  /K /000/999/4234N02102E999&quot;</span>) )</span>
<span id="cb75-4"><a href="splitparse.html#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="splitparse.html#cb75-5" aria-hidden="true" tabindex="-1"></a>q_parsed <span class="ot">&lt;-</span> q_fields <span class="sc">%&gt;%</span> </span>
<span id="cb75-6"><a href="splitparse.html#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(q,</span>
<span id="cb75-7"><a href="splitparse.html#cb75-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb75-8"><a href="splitparse.html#cb75-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>)</span>
<span id="cb75-9"><a href="splitparse.html#cb75-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-10"><a href="splitparse.html#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="co">#pretty view for the book</span></span>
<span id="cb75-11"><a href="splitparse.html#cb75-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(q_parsed)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">FIR</th>
<th align="left">qgroup</th>
<th align="left">IV</th>
<th align="left">NBO</th>
<th align="left">AEW</th>
<th align="left">FL_lo</th>
<th align="left">FL_hi</th>
<th align="left">geo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GLRB</td>
<td align="left">QPLXX</td>
<td align="left">IV</td>
<td align="left">NBO</td>
<td align="left">E</td>
<td align="left">000</td>
<td align="left">999</td>
<td align="left">0620N01206W483</td>
</tr>
<tr class="even">
<td align="left">LYBA</td>
<td align="left">QKKKK</td>
<td align="left">K</td>
<td align="left">K</td>
<td align="left">K</td>
<td align="left">000</td>
<td align="left">999</td>
<td align="left">4234N02102E999</td>
</tr>
</tbody>
</table>
<p>There are some fields here which could be parsed further (<code>qgroup</code> and <code>geo</code>), but we leave that. I suspect that the ‘K’ is a missing value, which we could translate into an R <code>NA</code> value, but we don’t go that far here.</p>
<p>We will assume that all the q-fields are properly formed, of these 8 fields. A more robust piece of code would check this is true. This is for analysis, not operations - you’re getting the message I think.</p>
<p>Inspecting the raw strings (always essential!) shows that there are some blank spaces. So in our result we have some fields with trailing spaces. We could use <code>stringr::str_trim</code> on the results to get rid of trailing spaces, and indeed, that would probably be a good idea anyway. But we can use this to illustrate the next level in use of <code>separate</code>, which we do in the next section.</p>
</div>
<div id="splitting-a-column-at-a-regular-expression" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Splitting a column at a regular expression</h3>
<p>The <code>sep=</code> is a ‘regular expression.’ Entire books have been written about regular expressions, so my advice would be to find a page you like, or download a cheatsheet of which there are many. <a href="https://rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf">This is the one I use, being R-focused.</a></p>
<p>A regular expression is a search or matching pattern. We want to split the q-field at not just <code>\</code> but any number of spaces followed by a <code>\</code>. That will remove the trailing spaces, because they’ll be treated as part of the separator.</p>
<p>Our string has some ‘newlines’ in it <code>\n</code> as well as spaces, and in other applications perhaps tabs are used. So we use a <code>\\s</code> code, rather than just a space character " ". <code>\\s</code> stands for all of these types of ‘space,’ and some others [check in the cheatsheet].</p>
<p>In regular expression terms this is <code>\\s*/</code>, which you can read as zero-or-more spaces followed by a back slash.</p>
<p>We can show that this gives the same result as using trim.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="splitparse.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what you&#39;d get using trim</span></span>
<span id="cb76-2"><a href="splitparse.html#cb76-2" aria-hidden="true" tabindex="-1"></a>q_parsed_trim <span class="ot">&lt;-</span> q_fields <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="splitparse.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(q,</span>
<span id="cb76-4"><a href="splitparse.html#cb76-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb76-5"><a href="splitparse.html#cb76-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb76-6"><a href="splitparse.html#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.fns =</span> str_trim))</span>
<span id="cb76-7"><a href="splitparse.html#cb76-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-8"><a href="splitparse.html#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="co">#what you get with the search pattern</span></span>
<span id="cb76-9"><a href="splitparse.html#cb76-9" aria-hidden="true" tabindex="-1"></a>q_parsed_regex <span class="ot">&lt;-</span> q_fields <span class="sc">%&gt;%</span> </span>
<span id="cb76-10"><a href="splitparse.html#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(q,</span>
<span id="cb76-11"><a href="splitparse.html#cb76-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb76-12"><a href="splitparse.html#cb76-12" aria-hidden="true" tabindex="-1"></a>           <span class="co"># separate on any number of spaces followed by a backslash</span></span>
<span id="cb76-13"><a href="splitparse.html#cb76-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s*/&quot;</span>)</span>
<span id="cb76-14"><a href="splitparse.html#cb76-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-15"><a href="splitparse.html#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co"># are they the same?</span></span>
<span id="cb76-16"><a href="splitparse.html#cb76-16" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(q_parsed_trim, q_parsed_regex)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>They are identical. Which do you prefer? The second involves one less line of code, but you might feel the need to add a comment, as I’ve done here, because the code is more obscure.</p>
<p>That’s a qualitative judgement. If you wanted to run this thousands of times, maybe you would run timing tests. Something like this.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="splitparse.html#cb78-1" aria-hidden="true" tabindex="-1"></a>q_many <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">q =</span> <span class="fu">rep</span>(q_fields<span class="sc">$</span>q, <span class="dv">100000</span>))</span>
<span id="cb78-2"><a href="splitparse.html#cb78-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-3"><a href="splitparse.html#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="co"># what you&#39;d get using trim</span></span>
<span id="cb78-4"><a href="splitparse.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(</span>
<span id="cb78-5"><a href="splitparse.html#cb78-5" aria-hidden="true" tabindex="-1"></a>q_parsed_trim <span class="ot">&lt;-</span> q_many <span class="sc">%&gt;%</span> </span>
<span id="cb78-6"><a href="splitparse.html#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(q,</span>
<span id="cb78-7"><a href="splitparse.html#cb78-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb78-8"><a href="splitparse.html#cb78-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-9"><a href="splitparse.html#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.fns =</span> str_trim))</span>
<span id="cb78-10"><a href="splitparse.html#cb78-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##    user  system elapsed 
##   0.592   0.038   0.639</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="splitparse.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#what you get with the search pattern</span></span>
<span id="cb80-2"><a href="splitparse.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(</span>
<span id="cb80-3"><a href="splitparse.html#cb80-3" aria-hidden="true" tabindex="-1"></a>q_parsed_regex <span class="ot">&lt;-</span> q_many <span class="sc">%&gt;%</span> </span>
<span id="cb80-4"><a href="splitparse.html#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(q,</span>
<span id="cb80-5"><a href="splitparse.html#cb80-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb80-6"><a href="splitparse.html#cb80-6" aria-hidden="true" tabindex="-1"></a>           <span class="co"># separate on any number of spaces followed by a backslash</span></span>
<span id="cb80-7"><a href="splitparse.html#cb80-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s*/&quot;</span>)</span>
<span id="cb80-8"><a href="splitparse.html#cb80-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##    user  system elapsed 
##   0.413   0.006   0.420</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="splitparse.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># and for fun, what does calling the function many times look like?</span></span>
<span id="cb82-2"><a href="splitparse.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co"># just do 1/100th of the rows</span></span>
<span id="cb82-3"><a href="splitparse.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(</span>
<span id="cb82-4"><a href="splitparse.html#cb82-4" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">lapply</span>(q_many<span class="sc">$</span>q[<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>], <span class="cf">function</span>(x) <span class="fu">data.frame</span>(<span class="at">q=</span>x) <span class="sc">%&gt;%</span> <span class="fu">separate</span>(q,</span>
<span id="cb82-5"><a href="splitparse.html#cb82-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">&quot;FIR&quot;</span>, <span class="st">&quot;qgroup&quot;</span>, <span class="st">&quot;IV&quot;</span>, <span class="st">&quot;NBO&quot;</span>, <span class="st">&quot;AEW&quot;</span>, <span class="st">&quot;FL_lo&quot;</span>, <span class="st">&quot;FL_hi&quot;</span>, <span class="st">&quot;geo&quot;</span>),</span>
<span id="cb82-6"><a href="splitparse.html#cb82-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s*/&quot;</span>))</span>
<span id="cb82-7"><a href="splitparse.html#cb82-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##    user  system elapsed 
##   1.302   0.005   1.310</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="splitparse.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># are they the same?</span></span>
<span id="cb84-2"><a href="splitparse.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(q_parsed_trim, q_parsed_regex)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>On my machine, the first takes about 40% longer in elapsed time, and twice the system time. So having fewer lines of code is more efficient. Calling the function each time, ok with code that isn’t carefully designed for speed, but for a dataset 100 times smaller already takes longer than either of these. Letting R do its vectorised thing is indeed better!</p>
</div>
<div id="splitting-a-column-at-an-either-or" class="section level3" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> Splitting a column at an either-or</h3>
<p>Taking this one step further, we can also work on the NOTAM header. This has NOTAM in it, which isn’t that useful information, so we can ditch in, but it has this in the form ‘NOTAMC,’ ‘NOTAMR,’ ‘NOTAMN’ depending on whether this is cancelling, replacing or a new NOTAM, respectively. The structure of the field varies between these cases.</p>
<p>As always, there are several ways to approach this. We could first remove the ‘NOTAM’ then split at spaces. But that’s two steps. So instead, we split at either ’ NOTAM’ or ’ ’ , in one go. In regular expressions, either or is given by “|,” just as in R syntax for ‘or.’ And to be on the safe side, we use the more general code for a ‘space,’ though a new line is unlikely in this position.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="splitparse.html#cb86-1" aria-hidden="true" tabindex="-1"></a>header_fields <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">header =</span> <span class="fu">c</span>(</span>
<span id="cb86-2"><a href="splitparse.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;A0001/13 NOTAMN &quot;</span>,</span>
<span id="cb86-3"><a href="splitparse.html#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;A0001/13 NOTAMR A0032/12&quot;</span>,</span>
<span id="cb86-4"><a href="splitparse.html#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;W0809/13 NOTAMC W0808/13&quot;</span></span>
<span id="cb86-5"><a href="splitparse.html#cb86-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb86-6"><a href="splitparse.html#cb86-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-7"><a href="splitparse.html#cb86-7" aria-hidden="true" tabindex="-1"></a>header_parsed <span class="ot">&lt;-</span> header_fields <span class="sc">%&gt;%</span> </span>
<span id="cb86-8"><a href="splitparse.html#cb86-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(header,</span>
<span id="cb86-9"><a href="splitparse.html#cb86-9" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">&quot;notam&quot;</span>, <span class="st">&quot;type&quot;</span>, <span class="st">&quot;replaces&quot;</span>),</span>
<span id="cb86-10"><a href="splitparse.html#cb86-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">sNOTAM|</span><span class="sc">\\</span><span class="st">s&quot;</span>)</span>
<span id="cb86-11"><a href="splitparse.html#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="splitparse.html#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="co">#pretty view for the book</span></span>
<span id="cb86-13"><a href="splitparse.html#cb86-13" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(header_parsed)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">notam</th>
<th align="left">type</th>
<th align="left">replaces</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A0001/13</td>
<td align="left">N</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">A0001/13</td>
<td align="left">R</td>
<td align="left">A0032/12</td>
</tr>
<tr class="odd">
<td align="left">W0809/13</td>
<td align="left">C</td>
<td align="left">W0808/13</td>
</tr>
</tbody>
</table>
<p>This works neatly, partly because there’s a trailing space at the end of the first one. [In the code, delete the space and re-run. What happens? How does the <code>header-parsed</code> dataframe change?]</p>
<p>In bulk use, you could either live with the <code>Expected 3 pieces....</code> errors, or add an extra space. Probably this is a sign that we should look for a better way to split, but this will always be tricky when the number of parts varies from one to the next, as it does here.</p>
</div>
<div id="exercises-3" class="section level3" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> Exercises</h3>
<div id="questions-6" class="section level4" number="8.1.4.1">
<h4><span class="header-section-number">8.1.4.1</span> Questions</h4>
<ol style="list-style-type: decimal">
<li>If <code>\\s</code> matches a space, what matches everything that is not a space?</li>
<li>How did the <code>header_parsed</code> dataframe change when you removed the space?</li>
<li>Look up the format of q_parsed$geo on the internet. Split it into 3 parts of <em>fixed length</em>, not based on a separator, but appropriately to the meaning.</li>
</ol>
</div>
<div id="answers-6" class="section level4" number="8.1.4.2">
<h4><span class="header-section-number">8.1.4.2</span> Answers</h4>
<ol style="list-style-type: decimal">
<li><code>\\S</code>, from the cheat sheet. There’s also a more complex version of the same thing <code>[^[:space]]</code>.</li>
<li>One value changed from empty string, "", to <code>NA</code>.</li>
<li>The help file explains that sep can also be positions. Try <code>separate(geo, c("Lat","Long","Radius"), c(5, 11))</code>.</li>
</ol>
</div>
</div>
</div>
<div id="list-columns-listcolumns" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> List columns {listcolumns}</h2>
<p>In the last section we saw various ways to split one column into several. Here we use another approach. Conceptually, it’s harder, but it keep the parts ‘similar’ for longer, so we can modify them further <em>en masse</em> rather than one column at a time. As usual this is not the only way this could be done, but it’s a good example of the use of list columns.</p>
<p>List columns? Up to now, you might have been thinking of tidy datasets like a table in a spreadsheet. Not a bad analogy, but R has more tricks up its sleeve. One particularly powerful one is that any column can contain, not just single values, but lists. There’s a whole package in <code>tidyverse</code> called <code>purrr</code> (yes, 3 rs) to help handle such things.</p>
<p>List columns are great for modelling. You can have rows with 3 cells, say, country names, historic time series, forecast. Extremely compact. The application here is simpler.</p>
<p>The pattern we’ll introduce here has 4 steps:</p>
<ol style="list-style-type: decimal">
<li>Split a complex text column into a list (one column)</li>
<li>Flip that list to generate extra rows in the dataset</li>
<li>Manipulate those rows, in groups</li>
<li>Pivot to generate 1 row per text, again, and multiple columns.</li>
</ol>
<p>Why might this be easier than approaches using <code>separate</code>? Because we want to manipulate what would be the column names after <code>separate</code>, it’s easier to do if these are instead text fields.</p>
<p>We load a set of NOTAM texts. Based on real ones, but some have been manipulated to create parsing challenges that have been seen in larger sets. The problems are in the later ones, so we will use short samples to begin with: start with a slice is a good principle anyway. (see TBD handling large datasets)</p>
<p>When adding rows, as we will, we need an index that lets us identify all of the rows that go with one piece of text. We generate a simple integer for this.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="splitparse.html#cb87-1" aria-hidden="true" tabindex="-1"></a>notam_texts <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/NOTAMSample.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="splitparse.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>())</span></code></pre></div>

</div>
</div>










            </section>

          </div>
        </div>
      </div>
<a href="vectors-and-grouping-loops-of-a-sort.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["flights_in_R.pdf", "flights_in_R.epub"],
"toc": {
"collapse": "subsection"
},
"theme": "sepia"
});
});
</script>

</body>

</html>
